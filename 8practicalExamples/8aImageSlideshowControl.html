<!DOCTYPE html>
<html lang="en">

<head>
    <title>Canvas Image Rotator Example</title>
    <link rel="stylesheet" href="../css/style.css">
    <script type="text/javascript">
        var imagePaths = ['../images/slideshow/bach.jpg', '../images/slideshow/beethoven.jpg',
            '../images/slideshow/berlioz.jpg',
            '../images/slideshow/brahms.jpg'
        ];

        var showCanvas = null;
        var showCanvasCtx = null;
        var img = document.createElement("img");
        var currentImage = 0;

        window.onload = function () {
            showCanvas = document.getElementById('showCanvas');
            showCanvasCtx = showCanvas.getContext('2d');

            img.setAttribute('width', '600');
            img.setAttribute('height', '400');
            switchImage();

            // start the animation
            setInterval(switchImage, 3000);
        }

        function switchImage() {
            // console.log('working?');
            // console.log("object img", img);
            // console.log('imagePaths: ' + imagePaths);
            // console.log('imagesPaths[currentImage]' + imagePaths[currentImage]);
            // console.log('imagePaths.length ', imagePaths.length);

            img.setAttribute('src', imagePaths[currentImage++]);
            // console.log('still working?');

            img.onload = function () {
                if (currentImage >= imagePaths.length) {
                    currentImage = 0;
                }
                showCanvasCtx.drawImage(img, 0, 0, 600, 400);
            }
        }
    </script>
</head>

<body>
    <canvas id="showCanvas" width="600" height="400">
        Canvas not supported
    </canvas>

</body>

</html>